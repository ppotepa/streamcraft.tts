<svg width="1420" height="1720" viewBox="0 0 1420 1720" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="title desc">
  <title>Wizard Layout and Steps</title>
  <desc>All steps in one sheet: layout reference plus states for steps 1-5.</desc>
  <defs>
    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#4b8dff"/>
      <stop offset="100%" stop-color="#7f5af0"/>
    </linearGradient>
    <style type="text/css"><![CDATA[
      .bg { fill: #0f1116; }
      .panel { fill: #161b29; stroke: #222a3a; stroke-width: 2; rx: 12; }
      .muted { fill: #121727; stroke: #222a3a; stroke-width: 1.5; rx: 10; }
      .surface { fill: #192033; stroke: #263149; stroke-width: 1.5; rx: 12; }
      .text-title { fill: #e8ecf2; font-family: 'Segoe UI', sans-serif; font-weight: 700; font-size: 18px; }
      .text-sub { fill: #96a2b7; font-family: 'Segoe UI', sans-serif; font-size: 13px; }
      .btn { fill: url(#grad); rx: 10; }
      .btn-text { fill: #ffffff; font-family: 'Segoe UI', sans-serif; font-weight: 700; font-size: 13px; }
      .bar-bg { fill: #0b0d14; stroke: #222a3a; stroke-width: 1.5; rx: 8; }
      .bar-fill { fill: url(#grad); rx: 8; }
      .tag { fill: #232c42; rx: 8; }
      .tag-text { fill: #c6d4ff; font-family: 'Segoe UI', sans-serif; font-size: 12px; font-weight: 700; }
      .pill { fill: #23304b; stroke: #4b8dff; stroke-width: 1; rx: 14; }
      .pill-text { fill: #c6d4ff; font-family: 'Segoe UI', sans-serif; font-size: 11px; font-weight: 700; }
      .thumb { fill: #0c0f18; stroke: #2c3752; stroke-width: 1.5; rx: 10; }
      .thumb-caption { fill: #b5c3dd; font-family: 'Segoe UI', sans-serif; font-size: 12px; }
    ]]></style>
  </defs>
  <rect class="bg" width="1420" height="1720"/>

  <!-- Row 0: Layout references -->
  <g transform="translate(20,20)">
    <rect class="panel" x="0" y="0" width="660" height="240" />
    <text class="text-title" x="20" y="34">Layout: Two-pane wizard</text>
    <text class="text-sub" x="20" y="60">Left rail shows steps with state; right pane shows only the active step.</text>
    <rect class="muted" x="20" y="80" width="140" height="140" />
    <text class="text-sub" x="32" y="116">Step grid</text>
    <text class="text-sub" x="32" y="138">(rail)</text>
    <rect class="muted" x="180" y="80" width="440" height="140" />
    <text class="text-sub" x="200" y="120">Current step content (grid)</text>
    <text class="text-sub" x="200" y="144">Cards + controls</text>
    <rect class="btn" x="520" y="20" width="120" height="36" />
    <text class="btn-text" x="540" y="44">Show logs</text>
  </g>
  <g transform="translate(720,20)">
    <rect class="panel" x="0" y="0" width="660" height="240" />
    <text class="text-title" x="20" y="34">Layout: Logs modal</text>
    <text class="text-sub" x="20" y="60">Compact, scrollable, auto-scroll with pause on manual scroll.</text>
    <rect class="muted" x="20" y="80" width="620" height="140" />
    <text class="text-sub" x="40" y="120">[09:12] extracting audio chunk 12/40</text>
    <text class="text-sub" x="40" y="144">[09:13] demucs vocal stem (optional)</text>
    <text class="text-sub" x="40" y="168">[09:14] trimming silence chunk 8/40</text>
  </g>

  <!-- Row 1: Step 1 VOD Check -->
  <g transform="translate(20,280)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 1 • State 1</text>
    <text class="text-sub" x="20" y="60">Empty; Next disabled until metadata loads.</text>
    <rect class="muted" x="20" y="90" width="380" height="80" />
    <text class="text-sub" x="40" y="130">Enter Twitch VOD URL</text>
    <rect class="btn" x="20" y="190" width="140" height="36" />
    <text class="btn-text" x="42" y="214">Check VOD</text>
  </g>
  <g transform="translate(480,280)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 1 • State 2</text>
    <text class="text-sub" x="20" y="60">Loading metadata.</text>
    <rect class="muted" x="20" y="90" width="380" height="80" />
    <rect class="bar-bg" x="20" y="190" width="380" height="14" />
    <rect class="bar-fill" x="20" y="190" width="180" height="14" />
    <text class="text-sub" x="20" y="220">Fetching title, duration, preview...</text>
  </g>
  <g transform="translate(940,280)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 1 • State 3</text>
    <text class="text-sub" x="20" y="60">Metadata ready; Next enabled.</text>
    <rect class="surface" x="20" y="90" width="230" height="110" />
    <text class="text-sub" x="32" y="122">Streamer / Title / Duration</text>
    <text class="text-sub" x="32" y="146">Preview link</text>
    <rect class="thumb" x="270" y="96" width="120" height="90" />
    <text class="thumb-caption" x="276" y="194">VOD preview</text>
    <rect class="pill" x="20" y="208" width="170" height="24" />
    <text class="pill-text" x="32" y="225">Ready to proceed</text>
    <rect class="btn" x="200" y="208" width="140" height="32" />
    <text class="btn-text" x="240" y="230">Next</text>
  </g>

  <!-- Row 2: Step 2 Audio Extraction -->
  <g transform="translate(20,560)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 2 • State 1</text>
    <text class="text-sub" x="20" y="60">Locked until Step 1 passes.</text>
    <rect class="surface" x="20" y="90" width="230" height="80" opacity="0.45" />
    <text class="text-sub" x="32" y="120" opacity="0.55">Awaiting VOD metadata</text>
    <rect class="thumb" x="270" y="90" width="120" height="80" opacity="0.35" />
    <text class="thumb-caption" x="276" y="180" opacity="0.55">Preview pinned</text>
    <rect class="btn" x="20" y="180" width="200" height="36" opacity="0.35" />
    <text class="btn-text" x="48" y="204" opacity="0.35">Extract audio</text>
    <rect class="btn" x="20" y="226" width="120" height="32" opacity="0.35" />
    <text class="btn-text" x="50" y="248" opacity="0.35">Next</text>
  </g>
  <g transform="translate(480,560)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 2 • State 2</text>
    <text class="text-sub" x="20" y="60">Extracting audio; show progress/logs.</text>
    <rect class="surface" x="20" y="90" width="230" height="90" />
    <text class="text-sub" x="32" y="120">Downloading audio chunks...</text>
    <rect class="bar-bg" x="32" y="134" width="190" height="10" />
    <rect class="bar-fill" x="32" y="134" width="120" height="10" />
    <text class="text-sub" x="32" y="156">60% • chunk 12/40</text>
    <rect class="thumb" x="270" y="90" width="120" height="90" />
    <text class="thumb-caption" x="280" y="186">VOD preview</text>
    <rect class="surface" x="20" y="190" width="380" height="36" />
    <rect class="btn" x="26" y="194" width="200" height="28" opacity="0.7" />
    <text class="btn-text" x="64" y="214" opacity="0.9">Extracting...</text>
  </g>
  <g transform="translate(940,560)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 2 • State 3</text>
    <text class="text-sub" x="20" y="60">Audio extracted; Next unlocked.</text>
    <rect class="surface" x="20" y="90" width="230" height="96" />
    <text class="text-sub" x="32" y="118">Audio: out/&lt;streamer&gt;/audio/&lt;vodid&gt;.wav</text>
    <text class="text-sub" x="32" y="142">Duration: 3h12m</text>
    <rect class="thumb" x="270" y="90" width="120" height="96" />
    <text class="thumb-caption" x="278" y="190">Source preview</text>
    <rect class="pill" x="20" y="196" width="220" height="24" />
    <text class="pill-text" x="32" y="213">Acceptance: exit 0 + file exists</text>
    <rect class="btn" x="260" y="196" width="140" height="32" />
    <text class="btn-text" x="292" y="218">Next</text>
  </g>

  <!-- Row 3: Step 3 Audio Sanitization -->
  <g transform="translate(20,840)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 3 • State 1</text>
    <text class="text-sub" x="20" y="60">Locked until audio exists.</text>
    <rect class="btn" x="20" y="90" width="200" height="36" opacity="0.35" />
    <text class="btn-text" x="30" y="114" opacity="0.35">Run sanitization</text>
    <rect class="btn" x="20" y="140" width="120" height="32" opacity="0.35" />
    <text class="btn-text" x="50" y="162" opacity="0.35">Next</text>
  </g>
  <g transform="translate(480,840)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 3 • State 2</text>
    <text class="text-sub" x="20" y="60">Sanitizing audio; tasks + logs.</text>
    <rect class="surface" x="20" y="90" width="260" height="120" />
    <text class="text-sub" x="32" y="118">Trim silence</text>
    <rect class="bar-bg" x="32" y="130" width="220" height="10" />
    <rect class="bar-fill" x="32" y="130" width="140" height="10" />
    <text class="text-sub" x="32" y="152">Normalize loudness</text>
    <rect class="bar-bg" x="32" y="164" width="220" height="10" />
    <rect class="bar-fill" x="32" y="164" width="110" height="10" />
    <text class="text-sub" x="32" y="186">Voice focus / masks</text>
    <rect class="bar-bg" x="32" y="198" width="220" height="10" />
    <rect class="bar-fill" x="32" y="198" width="80" height="10" />
    <rect class="thumb" x="300" y="90" width="90" height="90" />
    <text class="thumb-caption" x="304" y="194">Waveform</text>
    <rect class="surface" x="20" y="218" width="380" height="30" />
    <text class="text-sub" x="32" y="238">[09:13] LUFS normalize -16.2 • chunk 8/40</text>
    <rect class="btn" x="240" y="218" width="160" height="30" opacity="0.7" />
    <text class="btn-text" x="270" y="240" opacity="0.9">Sanitizing...</text>
  </g>
  <g transform="translate(940,840)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 3 • State 3</text>
    <text class="text-sub" x="20" y="60">Clean audio ready; Next enabled.</text>
    <rect class="surface" x="20" y="90" width="230" height="110" />
    <text class="text-sub" x="32" y="118">Clean: out/&lt;streamer&gt;/audio/&lt;vodid&gt;.clean.wav</text>
    <text class="text-sub" x="32" y="142">Segments: out/&lt;streamer&gt;/audio/&lt;vodid&gt;.segments.json</text>
    <text class="text-sub" x="32" y="166">LUFS: -16 • Kept: 420</text>
    <rect class="thumb" x="270" y="90" width="120" height="96" />
    <text class="thumb-caption" x="280" y="194">Waveform</text>
    <rect class="pill" x="20" y="208" width="260" height="24" />
    <text class="pill-text" x="32" y="225">Acceptance: clean wav + manifest</text>
    <rect class="btn" x="300" y="204" width="100" height="32" />
    <text class="btn-text" x="328" y="226">Next</text>
  </g>

  <!-- Row 4: Step 4 SRT/Text Extraction -->
  <g transform="translate(20,1120)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 4 • State 1</text>
    <text class="text-sub" x="20" y="60">Locked until sanitized audio exists.</text>
    <rect class="btn" x="20" y="90" width="200" height="36" opacity="0.35" />
    <text class="btn-text" x="36" y="114" opacity="0.35">Run transcription</text>
    <rect class="btn" x="20" y="140" width="120" height="32" opacity="0.35" />
    <text class="btn-text" x="50" y="162" opacity="0.35">Next</text>
  </g>
  <g transform="translate(480,1120)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 4 • State 2</text>
    <text class="text-sub" x="20" y="60">Transcribing sanitized audio.</text>
    <rect class="surface" x="20" y="90" width="260" height="70" />
    <text class="text-sub" x="32" y="114">55% • decoding segment 24/60</text>
    <rect class="bar-bg" x="32" y="128" width="220" height="10" />
    <rect class="bar-fill" x="32" y="128" width="150" height="10" />
    <rect class="thumb" x="300" y="90" width="90" height="70" />
    <text class="thumb-caption" x="302" y="168">SRT lines</text>
    <rect class="surface" x="20" y="174" width="380" height="80" />
    <text class="text-sub" x="32" y="200">[09:22] segment 22 text...</text>
    <text class="text-sub" x="32" y="222">[09:23] segment 23 text...</text>
  </g>
  <g transform="translate(940,1120)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 4 • State 3</text>
    <text class="text-sub" x="20" y="60">SRT ready; Next enabled.</text>
    <rect class="surface" x="20" y="90" width="230" height="90" />
    <text class="text-sub" x="32" y="118">SRT: out/&lt;streamer&gt;/vods/&lt;vodid&gt;/&lt;vodid&gt;.srt</text>
    <text class="text-sub" x="32" y="142">Lines: 12,345</text>
    <rect class="thumb" x="270" y="90" width="120" height="90" />
    <text class="thumb-caption" x="280" y="186">Excerpt</text>
    <rect class="pill" x="20" y="190" width="300" height="24" />
    <text class="pill-text" x="32" y="207">Acceptance: srt exists, lines &gt; 0, exit 0</text>
    <rect class="btn" x="330" y="188" width="70" height="32" />
    <text class="btn-text" x="344" y="210">Next</text>
  </g>

  <!-- Row 5: Step 5 TTS -->
  <g transform="translate(20,1400)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 5 • State 1</text>
    <text class="text-sub" x="20" y="60">Locked until SRT exists.</text>
    <rect class="surface" x="20" y="90" width="260" height="70" opacity="0.5" />
    <text class="text-sub" x="32" y="118" opacity="0.6">Waiting for SRT &amp; audio</text>
    <rect class="pill" x="20" y="168" width="220" height="24" opacity="0.55" />
    <text class="pill-text" x="32" y="185" opacity="0.7">Locked: missing SRT</text>
    <rect class="btn" x="20" y="202" width="160" height="32" opacity="0.35" />
    <text class="btn-text" x="52" y="224" opacity="0.35">Generate</text>
  </g>
  <g transform="translate(480,1400)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 5 • State 2</text>
    <text class="text-sub" x="20" y="60">Ready: dataset auto-picked per streamer.</text>
    <rect class="surface" x="20" y="90" width="260" height="90" />
    <text class="text-sub" x="32" y="118">Dataset: dataset/&lt;streamer&gt;/clips (auto)</text>
    <text class="text-sub" x="32" y="142">Enter text to synthesize</text>
    <rect class="pill" x="20" y="188" width="200" height="24" />
    <text class="pill-text" x="32" y="205">Ready to generate</text>
    <rect class="btn" x="240" y="186" width="160" height="32" />
    <text class="btn-text" x="270" y="208">Generate</text>
  </g>
  <g transform="translate(940,1400)">
    <rect class="panel" x="0" y="0" width="420" height="240" />
    <text class="text-title" x="20" y="34">Step 5 • State 3</text>
    <text class="text-sub" x="20" y="60">Audio generated.</text>
    <rect class="surface" x="20" y="90" width="230" height="90" />
    <text class="text-sub" x="32" y="118">Output: out/&lt;streamer&gt;/tts/&lt;timestamp&gt;.wav</text>
    <text class="text-sub" x="32" y="142">Play / Copy path</text>
    <rect class="thumb" x="270" y="90" width="120" height="90" />
    <text class="thumb-caption" x="278" y="186">Waveform</text>
    <rect class="pill" x="20" y="190" width="200" height="24" />
    <text class="pill-text" x="32" y="207">Acceptance: exit 0</text>
    <rect class="btn" x="240" y="188" width="140" height="32" />
    <text class="btn-text" x="278" y="210">Re-run</text>
  </g>
</svg>
